<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Vim命令合集 · ZThought</title><meta name="description" content="Vim命令合集 - ZTfer"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.ztfer.com/atom.xml" title="ZThought"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://dribbble.com/ZTfer" target="_blank" class="nav-list-link">DRIBBBLE</a></li><li class="nav-list-item"><a href="http://weibo.com/wudu2012" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/ZTfer" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Vim命令合集</h1><div class="post-info">Jan 19, 2016</div><div class="post-content"><p>Vim命令合集<br><a id="more"></a></p>
<h5 id="命令历史"><a href="#命令历史" class="headerlink" title="命令历史"></a>命令历史</h5><p>以:和/开头的命令都有历史纪录，可以首先键入:或/然后按上下箭头来选择某个历史命令。</p>
<h5 id="启动vim"><a href="#启动vim" class="headerlink" title="启动vim"></a>启动vim</h5><p>在命令行窗口中输入以下命令即可</p>
<ul>
<li><code>vim</code> 直接启动vim</li>
<li><code>vim filename</code> 打开vim并创建名为filename的文件</li>
</ul>
<h5 id="文件命令"><a href="#文件命令" class="headerlink" title="文件命令"></a>文件命令</h5><ul>
<li>打开单个文件<br><code>vim file</code></li>
<li>同时打开多个文件<br><code>vim file1 file2 file3 ...</code></li>
<li>在vim窗口中打开一个新文件<br><code>:open file</code></li>
<li>在新窗口中打开文件<br><code>:split file</code></li>
<li>切换到下一个文件<br><code>:bn</code></li>
<li>切换到上一个文件<br><code>:bp</code></li>
<li>查看当前打开的文件列表，当前正在编辑的文件会用[]括起来。<br><code>:args</code></li>
<li>打开远程文件，比如ftp或者share folder<br><code>:e ftp://192.168.10.76/abc.txt</code><br><code>:e \\qadrive\test\1.txt</code></li>
</ul>
<h5 id="vim的模式"><a href="#vim的模式" class="headerlink" title="vim的模式"></a>vim的模式</h5><p>正常模式（按Esc或Ctrl+[进入） 左下角显示文件名或为空<br>插入模式（按i键进入） 左下角显示–INSERT–<br>可视模式（不知道如何进入） 左下角显示–VISUAL–</p>
<h5 id="导航命令"><a href="#导航命令" class="headerlink" title="导航命令"></a>导航命令</h5><p>% 括号匹配</p>
<h5 id="插入命令"><a href="#插入命令" class="headerlink" title="插入命令"></a>插入命令</h5><ul>
<li><code>i</code> 在当前位置生前插入</li>
<li><code>I</code> 在当前行首插入</li>
<li><code>a</code> 在当前位置后插入</li>
<li><code>A</code> 在当前行尾插入</li>
<li><code>o</code> 在当前行之后插入一行</li>
<li><code>O</code> 在当前行之前插入一行</li>
</ul>
<h5 id="查找命令"><a href="#查找命令" class="headerlink" title="查找命令"></a>查找命令</h5><ul>
<li><code>/text</code>　　查找text，按n健查找下一个，按N健查找前一个。</li>
<li><code>?text</code>　　查找text，反向查找，按n健查找下一个，按N健查找前一个。<blockquote>
<p>vim中有一些特殊字符在查找时需要转义　　<code>.*[]^%/?~$</code></p>
</blockquote>
</li>
<li><code>:set ignorecase</code>　　忽略大小写的查找</li>
<li><code>:set noignorecase</code>　　不忽略大小写的查找<blockquote>
<p>查找很长的词，如果一个词很长，键入麻烦，可以将光标移动到该词上，按<code>*</code>或<code>#</code>键即可以该单词进行搜索，相当于/搜索。而<code>#</code>命令相当于<code>?</code>搜索。</p>
</blockquote>
</li>
<li><code>:set hlsearch</code>　　高亮搜索结果，所有结果都高亮显示，而不是只显示一个匹配。</li>
<li><code>:set nohlsearch</code>　　关闭高亮搜索显示</li>
<li><code>:nohlsearch</code>　　关闭当前的高亮显示，如果再次搜索或者按下n或N键，则会再次高亮。</li>
<li><code>:set incsearch</code>　　逐步搜索模式，对当前键入的字符进行搜索而不必等待键入完成。</li>
<li><code>:set wrapscan</code>　　重新搜索，在搜索到文件头或尾时，返回继续搜索，默认开启。</li>
</ul>
<h5 id="替换命令"><a href="#替换命令" class="headerlink" title="替换命令"></a>替换命令</h5><ul>
<li><code>ra</code> 将当前字符替换为a，当期字符即光标所在字符。</li>
<li><code>s/old/new/</code> 用old替换new，替换当前行的第一个匹配</li>
<li><code>s/old/new/g</code> 用old替换new，替换当前行的所有匹配</li>
<li><code>%s/old/new/</code> 用old替换new，替换所有行的第一个匹配</li>
<li><code>%s/old/new/g</code> 用old替换new，替换整个文件的所有匹配</li>
<li><code>:10,20 s/^/</code>    /g 在第10行知第20行每行前面加四个空格，用于缩进。</li>
<li><code>ddp</code> 交换光标所在行和其下紧邻的一行。</li>
</ul>
<h5 id="移动命令"><a href="#移动命令" class="headerlink" title="移动命令"></a>移动命令</h5><ul>
<li><code>h</code> 左移一个字符</li>
<li><code>l</code> 右移一个字符，这个命令很少用，一般用w代替。</li>
<li><code>k</code> 上移一个字符</li>
<li><p><code>j</code> 下移一个字符</p>
<blockquote>
<p>以上四个命令可以配合数字使用，比如<code>20j</code>就是向下移动20行，<code>5h</code>就是向左移动5个字符，在Vim中，很多命令都可以配合数字使用，比如删除10个字符<code>10x</code>，在当前位置后插入3个！，<code>3a &lt;Esc&gt;</code>，这里的Esc是必须的，否则命令不生效。<br><code>w</code> 向前移动一个单词（光标停在单词首部），如果已到行尾，则转至下一行行首。此命令快，可以代替l命令。</p>
</blockquote>
</li>
<li><p><code>b</code> 向后移动一个单词 <code>2b</code> 向后移动2个单词</p>
</li>
<li><code>e</code>，同<code>w</code>，只不过是光标停在单词尾部</li>
<li><code>ge</code>，同<code>b</code>，光标停在单词尾部。</li>
<li><code>^</code> 移动到本行第一个非空白字符上。</li>
<li><code>0</code>（数字0）移动到本行第一个字符上，</li>
<li><code>&lt;HOME&gt;</code> 移动到本行第一个字符。同0健。</li>
<li><code>$</code> 移动到行尾 <code>3$</code> 移动到下面3行的行尾</li>
<li><code>gg</code> 移动到文件头。 = <code>[[</code></li>
<li><code>G（shift + g）</code> 移动到文件尾。 = <code>]]</code></li>
<li><code>f（find）</code>命令也可以用于移动，<code>fx</code>将找到光标后第一个为x的字符，<code>3fd</code>将找到第三个为d的字符。</li>
<li><code>F</code> 同<code>f</code>，反向查找。</li>
<li>跳到指定行，冒号+行号，回车，比如跳到240行就是 <code>:240</code>回车。另一个方法是行号+G，比如<code>230G</code>跳到230行。</li>
<li><code>Ctrl + e</code> 向下滚动一行</li>
<li><code>Ctrl + y</code> 向上滚动一行</li>
<li><code>Ctrl + d</code> 向下滚动半屏</li>
<li><code>Ctrl + u</code> 向上滚动半屏</li>
<li><code>Ctrl + f</code> 向下滚动一屏</li>
<li><code>Ctrl + b</code> 向上滚动一屏</li>
</ul>
<h5 id="撤销和重做"><a href="#撤销和重做" class="headerlink" title="撤销和重做"></a>撤销和重做</h5><ul>
<li><code>u</code> 撤销（Undo）</li>
<li><code>U</code> 撤销对整行的操作</li>
<li><code>Ctrl + r</code> 重做（Redo），即撤销的撤销。</li>
</ul>
<h5 id="删除命令"><a href="#删除命令" class="headerlink" title="删除命令"></a>删除命令</h5><ul>
<li><code>x</code> 删除当前字符</li>
<li><code>3x</code> 删除当前光标开始向后三个字符</li>
<li><code>X</code> 删除当前字符的前一个字符。X=dh</li>
<li><code>dl</code> 删除当前字符， dl=x</li>
<li><code>dh</code> 删除前一个字符</li>
<li><code>dd</code> 删除当前行</li>
<li><code>dj</code> 删除上一行</li>
<li><code>dk</code> 删除下一行</li>
<li><code>10d</code> 删除当前行开始的10行。</li>
<li><code>D</code> 删除当前字符至行尾。D=d$</li>
<li><code>d$</code> 删除当前字符之后的所有字符（本行）</li>
<li><code>kdgg</code> 删除当前行之前所有行（不包括当前行）</li>
<li><code>jdG（jd shift + g)</code>   删除当前行之后所有行（不包括当前行）</li>
<li><code>:1,10d</code> 删除1-10行</li>
<li><code>:11,$d</code> 删除11行及以后所有的行</li>
<li><code>:1,$d</code> 删除所有行</li>
<li><code>J(shift + j)</code> 删除两行之间的空行，实际上是合并两行。</li>
</ul>
<h5 id="拷贝和粘贴"><a href="#拷贝和粘贴" class="headerlink" title="拷贝和粘贴"></a>拷贝和粘贴</h5><ul>
<li><code>yy</code> 拷贝当前行</li>
<li><code>nyy</code> 拷贝当前后开始的n行，比如2yy拷贝当前行及其下一行。</li>
<li><code>p</code>  在当前光标后粘贴,如果之前使用了yy命令来复制一行，那么就在当前行的下一行粘贴。</li>
<li><code>shift+p</code> 在当前行前粘贴</li>
<li><code>:1,10 co 20</code> 将1-10行插入到第20行之后。</li>
<li><code>:1,$ co $</code> 将整个文件复制一份并添加到文件尾部。</li>
<li>正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按y即可复制</li>
<li><code>ddp</code>交换当前行和其下一行</li>
<li><code>xp</code>交换当前字符和其后一个字符</li>
</ul>
<h5 id="剪切命令"><a href="#剪切命令" class="headerlink" title="剪切命令"></a>剪切命令</h5><ul>
<li>正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按d即可剪切</li>
<li>ndd 剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴</li>
<li><code>:1,10d</code> 将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。</li>
<li><code>:1, 10 m 20</code> 将第1-10行移动到第20行之后。</li>
</ul>
<h5 id="退出命令"><a href="#退出命令" class="headerlink" title="退出命令"></a>退出命令</h5><p><code>:wq</code> 保存并退出<br><code>ZZ</code> 保存并退出<br><code>:q!</code> 强制退出并忽略所有更改<br><code>:e!</code> 放弃所有修改，并打开原来文件。</p>
<h5 id="窗口命令"><a href="#窗口命令" class="headerlink" title="窗口命令"></a>窗口命令</h5><ul>
<li><code>:split</code>或new 打开一个新窗口，光标停在顶层的窗口上</li>
<li><code>:split file</code>或:new file 用新窗口打开文件</li>
<li><code>split</code>打开的窗口都是横向的，使用vsplit可以纵向打开窗口。</li>
<li><code>Ctrl+ww</code> 移动到下一个窗口</li>
<li><code>Ctrl+wj</code> 移动到下方的窗口</li>
<li><code>Ctrl+wk</code> 移动到上方的窗口</li>
</ul>
<h5 id="关闭窗口"><a href="#关闭窗口" class="headerlink" title="关闭窗口"></a>关闭窗口</h5><ul>
<li><code>:close</code> 最后一个窗口不能使用此命令，可以防止意外退出vim。</li>
<li><code>:q</code> 如果是最后一个被关闭的窗口，那么将退出vim。</li>
<li><code>ZZ</code> 保存并退出。</li>
<li><code>:only</code>关闭所有窗口，只保留当前窗口</li>
</ul>
<h5 id="录制宏"><a href="#录制宏" class="headerlink" title="录制宏"></a>录制宏</h5><p>按q键加任意字母开始录制，再按q键结束录制（这意味着vim中的宏不可嵌套），使用的时候@加宏名，比如qa。。。q录制名为a的宏，@a使用这个宏。</p>
<h5 id="执行shell命令"><a href="#执行shell命令" class="headerlink" title="执行shell命令"></a>执行shell命令</h5><ul>
<li><code>:!command</code></li>
<li><code>:!ls</code> 列出当前目录下文件</li>
<li><code>:!perl -c script.pl</code> 检查perl脚本语法，可以不用退出vim，非常方便。</li>
<li><code>:!perl script.pl</code> 执行perl脚本，可以不用退出vim，非常方便。</li>
<li><code>:suspend或Ctrl - Z</code> 挂起vim，回到shell，按fg可以返回vim。</li>
</ul>
<h5 id="注释命令"><a href="#注释命令" class="headerlink" title="注释命令"></a>注释命令</h5><blockquote>
<p>perl程序中<code>#</code>开始的行为注释，所以要注释某些行，只需在行首加入<code>#</code></p>
</blockquote>
<ul>
<li><code>3,5 s/^/#/g</code> 注释第3-5行</li>
<li><code>3,5 s/^#//g</code> 解除3-5行的注释</li>
<li><code>1,$ s/^/#/g</code> 注释整个文档。</li>
<li><code>:%s/^/#/g</code> 注释整个文档，此法更快。</li>
</ul>
<h5 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h5><ul>
<li><code>:help or F1</code> 显示整个帮助</li>
<li><code>:help xxx</code> 显示xxx的帮助，比如 :help i, :help CTRL-[（即Ctrl+[的帮助）。</li>
<li><code>:help &#39;number&#39;</code> Vim选项的帮助用单引号括起</li>
<li><code>:help &lt;Esc&gt;</code> 特殊键的帮助用&lt;&gt;扩起</li>
<li><code>:help -t Vim</code>启动参数的帮助用-</li>
<li><code>：help i_&lt;Esc&gt;</code> 插入模式下Esc的帮助，某个模式下的帮助用模式_主题的模式<blockquote>
<p>帮助文件中位于||之间的内容是超链接，可以用<code>Ctrl+]</code>进入链接，<code>Ctrl+o（Ctrl + t</code>）返回</p>
</blockquote>
</li>
</ul>
<h5 id="其他非编辑命令"><a href="#其他非编辑命令" class="headerlink" title="其他非编辑命令"></a>其他非编辑命令</h5><ul>
<li><code>.</code> 重复前一次命令</li>
<li><code>:set ruler?</code> 查看是否设置了ruler，在.vimrc中，使用set命令设制的选项都可以通过这个命令查看</li>
<li><code>:scriptnames</code> 查看vim脚本文件的位置，比如.vimrc文件，语法文件及plugin等。</li>
<li><code>:set list</code> 显示非打印字符，如tab，空格，行尾等。如果tab无法显示，请确定用set lcs=tab:&gt;-命令设置了.vimrc文件，并确保你的文件中的确有tab，如果开启了expendtab，那么tab将被扩展为空格。</li>
</ul>
<h5 id="Vim教程"><a href="#Vim教程" class="headerlink" title="Vim教程"></a>Vim教程</h5><p>在Unix系统上</p>
<ul>
<li><code>$ vimtutor</code></li>
</ul>
<p>在Windows系统上</p>
<ul>
<li><code>:help tutor</code></li>
<li><code>:syntax</code> 列出已经定义的语法项</li>
<li><code>:syntax clear</code> 清除已定义的语法规则</li>
<li><code>:syntax case match</code> 大小写敏感，int和Int将视为不同的语法元素</li>
<li><code>:syntax case ignore</code> 大小写无关，int和Int将视为相同的语法元素，并使用同样的配色方案</li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2016/01/22/WeUI-UIkit/" class="prev">PREV</a><a href="/2016/01/19/开始的开始/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'ZTfer';
var disqus_identifier = '2016/01/19/Vim命令合集/';
var disqus_title = 'Vim命令合集';
var disqus_url = 'http://www.ztfer.com/2016/01/19/Vim命令合集/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ZTfer.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2017 <a href="http://www.ztfer.com">ZTfer</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-77810512-1",'auto');ga('send','pageview');</script></body></html>